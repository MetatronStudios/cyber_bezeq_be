(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-36a1"],{"/eQG":function(t,e,n){n("v5Dd");var r=n("WEpk").Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},"5O73":function(t,e,n){"use strict";var r=n("7FK7");n.n(r).a},"6gKL":function(t,e,n){"use strict";var r=n("iCc5"),o=n.n(r),i=n("V7oC"),l=n.n(i),a=n("Kw5r"),c=n("oYx3"),s=n("GQeE"),u=n.n(s),p=function(){function t(){o()(this,t)}return l()(t,null,[{key:"toHtml",value:function(t){if("string"==typeof t)return t;var e="";return u()(t).forEach(function(n){e=n+": "+t[n]}),e}}]),t}(),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o()(this,t),this._http=a.default.http,this._ref=e}return l()(t,[{key:"errorHandler",value:function(t){if(401!==t.status)return this._ref&&this._ref.$message.error(p.toHtml(t.data.errors)),!1;c.a.push({path:"/login"})}},{key:"customGet",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return this._http.get(t,{params:n},{headers:{"Content-Type":r}}).then(function(t){return!!t.ok&&t},function(t){return e.errorHandler(t)})}},{key:"customGetDownload",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return this._http.get(t,{params:n,responseType:"arraybuffer"},{headers:{"Content-Type":r},responseType:"arraybuffer"}).then(function(t){return!!t.ok&&t},function(t){return e.errorHandler(t)})}},{key:"customPost",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return this._http.post(t,n,{headers:{"Content-Type":r}}).then(function(t){return!!t.ok&&t},function(t){return e.errorHandler(t)})}},{key:"customPut",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return this._http.put(t,n,{headers:{"Content-Type":r}}).then(function(t){return!!t.ok&&t},function(t){return e.errorHandler(t)})}},{key:"customPatch",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return this._http.patch(t,n,{headers:{"Content-Type":r}}).then(function(t){return!!t.ok&&t},function(t){return e.errorHandler(t)})}},{key:"customDelete",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return a.default.http.headers.common["Content-Type"]=r,this._http.delete(t,n,{headers:{"Content-Type":r}}).then(function(t){return!!t.ok&&t},function(t){return e.errorHandler(t)})}},{key:"baseUrl",get:function(){return"//elbitsecurity.cybergame.co.il/api.php/api/"}}]),t}();e.a=h},"7FK7":function(t,e,n){},JO7F:function(t,e,n){t.exports={default:n("/eQG"),__esModule:!0}},luM4:function(t,e,n){"use strict";n.r(e);var r=n("ygAv"),o=n("Yz+Y"),i=n.n(o),l=n("iCc5"),a=n.n(l),c=n("V7oC"),s=n.n(c),u=n("FYw3"),p=n.n(u),h=n("tfYw"),d=n.n(h),f=n("mRg0"),v=n.n(f),_=function(t){function e(t){return a()(this,e),p()(this,(e.__proto__||i()(e)).call(this,t))}return v()(e,t),s()(e,[{key:"get",value:function(t){var n=d()(e.prototype.__proto__||i()(e.prototype),"baseUrl",this)+"fact/"+t;return d()(e.prototype.__proto__||i()(e.prototype),"customGet",this).call(this,n)}},{key:"list",value:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=d()(e.prototype.__proto__||i()(e.prototype),"baseUrl",this)+"fact";return o.page=t,o.sort=n,o.order=r,d()(e.prototype.__proto__||i()(e.prototype),"customGet",this).call(this,l,o)}},{key:"add",value:function(t){var n=d()(e.prototype.__proto__||i()(e.prototype),"baseUrl",this)+"fact";return d()(e.prototype.__proto__||i()(e.prototype),"customPost",this).call(this,n,t)}},{key:"update",value:function(t,n){var r=d()(e.prototype.__proto__||i()(e.prototype),"baseUrl",this)+"fact/"+t;return d()(e.prototype.__proto__||i()(e.prototype),"customPut",this).call(this,r,n)}},{key:"delete",value:function(t){var n=d()(e.prototype.__proto__||i()(e.prototype),"baseUrl",this)+"fact/"+t;return d()(e.prototype.__proto__||i()(e.prototype),"customDelete",this).call(this,n)}},{key:"export",value:function(t){var n=d()(e.prototype.__proto__||i()(e.prototype),"baseUrl",this)+"fact/export";return d()(e.prototype.__proto__||i()(e.prototype),"customGetDownload",this).call(this,n)}}]),e}(n("6gKL").a),m=function(t){function e(t){a()(this,e);var n=p()(this,(e.__proto__||i()(e)).call(this,t));return null!=t?(n.title=t.title,n.is_correct=t.is_correct):(n.title="",n.is_correct=""),n}return v()(e,t),s()(e,[{key:"toDto",get:function(){var t={};return t.title=this.title,t.is_correct=this.is_correct,t}}]),e}(n("XBeE").a),g={data:function(){return{loading:!1,sort:"id",order:"asc",total:0,page:1,item:null,list:[],title:"הוספת חדש",rules:{title:{required:!0,message:"חובה להזין טקסט"}}}},methods:{indexMethod:function(t){return t+10*(this.page-1)+1},sortChange:function(t){this.sort=t.prop,this.order="ascending"==t.order?"asc":"desc",this.callServiceList()},callServiceExport:function(){new _(this).export().then(function(t){var e=document.createElement("a");e.href=window.URL.createObjectURL(new Blob([t.data],{type:"text/plain;charset=UTF-8"})),e.setAttribute("download","fact.csv"),document.body.appendChild(e),e.click(),document.body.removeChild(e)})},callServiceList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,this.loading=!0,new _(this).list(e,this.sort,this.order).then(function(e){e&&(t.total=e.data.total,t.list=e.data.data),t.loading=!1})},callServiceUpdate:function(){var t=this;this.loading=!0,new _(this).update(this.item.id,this.item.toDto).then(function(e){e&&r.a.showMessage("נשמר","success"),t.cancel()})},callServiceGet:function(t){var e=this;this.loading=!0,new _(this).get(t).then(function(t){t&&(e.item=new m(t.data)),e.loading=!1})},save:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return!1;new _(t);t.item.hasId()?t.callServiceUpdate():t.callServiceAdd()})},edit:function(t){this.item=null,this.title="עריכת קיים",this.callServiceGet(t)},cancel:function(){this.item=null,this.callServiceList()}},created:function(){this.callServiceList()}},y=(n("5O73"),n("KHd+")),b=Object(y.a)(g,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("h1",[t._v("עובדות גמר")]),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"false","highlight-current-row":""},on:{"sort-change":t.sortChange}},[n("el-table-column",{attrs:{label:"מס׳",align:"right",type:"index",index:t.indexMethod}}),t._v(" "),n("el-table-column",{attrs:{label:"מסד",width:"90",align:"right",prop:"id",sortable:"custom"}}),t._v(" "),n("el-table-column",{attrs:{label:"טקסט",align:"right",prop:"title",sortable:"custom"}}),t._v(" "),n("el-table-column",{attrs:{label:"תשובה נכונה",width:"140",align:"right",prop:"is_correct",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.is_correct?"כן":"לא")+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"כלים",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button-group",[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"עריכה",placement:"top-start"}},[n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(n){return n.preventDefault(),t.edit(e.row.id)}}})],1)],1)]}}])})],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:24,align:"center"}},[n("el-pagination",{attrs:{total:t.total,layout:"prev, pager, next","prev-text":"הקודם","next-text":"הבא"},on:{"current-change":t.callServiceList}}),t._v(" "),n("el-button",{on:{click:function(e){return t.callServiceExport()}}},[t._v("ייצא הכל")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:t.title,visible:null!=t.item,"show-close":!1}},[null!=t.item?n("el-form",{ref:"form",staticClass:"form-container",attrs:{model:t.item,rules:t.rules}},[n("el-form-item",{attrs:{label:"טקסט",prop:"title"}},[n("el-input",{model:{value:t.item.title,callback:function(e){t.$set(t.item,"title",e)},expression:"item.title"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"תשובה נכונה",prop:"is_correct"}},[n("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.item.is_correct,callback:function(e){t.$set(t.item,"is_correct",e)},expression:"item.is_correct"}})],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:24,align:"center"}},[n("el-button-group",[n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-success"},on:{click:function(e){return e.preventDefault(),t.save()}}},[t._v("שמור")]),t._v(" "),n("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-error"},on:{click:function(e){return e.preventDefault(),t.cancel()}}},[t._v("ביטול")])],1)],1)],1)],1):t._e()],1)],1)},[],!1,null,null,null);b.options.__file="index.vue";e.default=b.exports},tfYw:function(t,e,n){"use strict";e.__esModule=!0;var r=i(n("Yz+Y")),o=i(n("JO7F"));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,n,i){null===e&&(e=Function.prototype);var l=(0,o.default)(e,n);if(void 0===l){var a=(0,r.default)(e);return null===a?void 0:t(a,n,i)}if("value"in l)return l.value;var c=l.get;return void 0!==c?c.call(i):void 0}},v5Dd:function(t,e,n){var r=n("NsO/"),o=n("vwuL").f;n("zn7N")("getOwnPropertyDescriptor",function(){return function(t,e){return o(r(t),e)}})}}]);
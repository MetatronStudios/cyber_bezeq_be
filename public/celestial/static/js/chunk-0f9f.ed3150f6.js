(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0f9f"],{"/eQG":function(t,e,n){n("v5Dd");var i=n("WEpk").Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}},"6gKL":function(t,e,n){"use strict";var i=n("iCc5"),r=n.n(i),o=n("V7oC"),l=n.n(o),a=n("Kw5r"),s=n("oYx3"),u=n("GQeE"),c=n.n(u),p=function(){function t(){r()(this,t)}return l()(t,null,[{key:"toHtml",value:function(t){if("string"==typeof t)return t;var e="";return c()(t).forEach(function(n){e=n+": "+t[n]}),e}}]),t}(),d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r()(this,t),this._http=a.default.http,this._ref=e}return l()(t,[{key:"errorHandler",value:function(t){if(401!==t.status)return this._ref&&this._ref.$message.error(p.toHtml(t.data.errors)),!1;s.a.push({path:"/login"})}},{key:"customGet",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return this._http.get(t,{params:n},{headers:{"Content-Type":i}}).then(function(t){return!!t.ok&&t},function(t){return e.errorHandler(t)})}},{key:"customGetDownload",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return this._http.get(t,{params:n,responseType:"arraybuffer"},{headers:{"Content-Type":i},responseType:"arraybuffer"}).then(function(t){return!!t.ok&&t},function(t){return e.errorHandler(t)})}},{key:"customPost",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return this._http.post(t,n,{headers:{"Content-Type":i}}).then(function(t){return!!t.ok&&t},function(t){return e.errorHandler(t)})}},{key:"customPut",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return this._http.put(t,n,{headers:{"Content-Type":i}}).then(function(t){return!!t.ok&&t},function(t){return e.errorHandler(t)})}},{key:"customPatch",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return this._http.patch(t,n,{headers:{"Content-Type":i}}).then(function(t){return!!t.ok&&t},function(t){return e.errorHandler(t)})}},{key:"customDelete",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return a.default.http.headers.common["Content-Type"]=i,this._http.delete(t,n,{headers:{"Content-Type":i}}).then(function(t){return!!t.ok&&t},function(t){return e.errorHandler(t)})}},{key:"baseUrl",get:function(){return"//bezeq.cybergame.co.il/api.php/api/"}}]),t}();e.a=d},"73JP":function(t,e,n){},JO7F:function(t,e,n){t.exports={default:n("/eQG"),__esModule:!0}},lOu8:function(t,e,n){"use strict";var i=n("73JP");n.n(i).a},pN3W:function(t,e,n){"use strict";n.r(e);var i=n("ygAv"),r=n("wOee"),o=n("Yz+Y"),l=n.n(o),a=n("iCc5"),s=n.n(a),u=n("FYw3"),c=n.n(u),p=n("V7oC"),d=n.n(p),f=n("mRg0"),h=n.n(f),v=function(t){function e(t){s()(this,e);var n=c()(this,(e.__proto__||l()(e)).call(this,t));return null!=t?(n.type=t.type,n.age=t.age,n.score=t.score,n.title=t.title,n.text=t.text,n.explain=t.explain,n.hint=t.hint,n.answers=t.answers,n.url=t.url,n.youtube=t.youtube,n.id_groupedRiddles=t.id_groupedRiddles):(n.score=1,n.type="N",n.age=1,n.title="",n.text="",n.explain="",n.hint="",n.answers=[],n.url="",n.youtube="",n.id_groupedRiddles=""),n}return h()(e,t),d()(e,null,[{key:"answersToStr",value:function(t){var e=[];for(var n in t)e.push(t[n].text);return e.join("~")}}]),d()(e,[{key:"toDto",get:function(){var t={};return t.score=this.score,t.age=this.age,t.type=this.type,t.title=this.title,t.text=this.text,t.explain=this.explain,t.hint=this.hint,t.answers=e.answersToStr(this.answers),t.url=this.url,t.youtube=this.youtube,t.id_groupedRiddles=this.id_groupedRiddles,t}}]),e}(n("XBeE").a),m={data:function(){return{loading:!1,total:0,item:null,id:null,riddles:[],inputVisible:!1,inputValue:"",rules:{title:{required:!0,message:"חובה להזין כותרת"}}}},methods:{callServiceExport:function(){new r.a(this).export().then(function(t){var e=document.createElement("a");e.href=window.URL.createObjectURL(new Blob([t.data],{type:"text/plain;charset=UTF-8"})),e.setAttribute("download","riddles.csv"),document.body.appendChild(e),e.click(),document.body.removeChild(e)})},riddleLabels:function(t,e){return e+1+" - "+t.title},handleClose:function(t){this.item.answers.splice(this.item.answers.indexOf(t),1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var t=this.inputValue;t&&this.item.answers.push({text:t}),this.inputVisible=!1,this.inputValue=""},callServiceGetAllRiddles:function(){var t=this;this.loading=!0,new r.a(this).getAll().then(function(e){e&&(t.riddles=e.data),t.loading=!1})},callServiceUpdate:function(){var t=this;this.loading=!0,new r.a(this).update(this.item.id,this.item.toDto).then(function(e){e&&i.a.showMessage("נשמר","success"),t.callServiceGetAllRiddles()})},callServiceGet:function(t){var e=this;this.loading=!0,new r.a(this).get(t).then(function(t){t&&(e.item=new v(t.data)),e.loading=!1})},save:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return!1;new r.a(t);t.callServiceUpdate()})},edit:function(t){this.item=null,this.title="עריכת קיים",this.callServiceGet(t)},cancel:function(){this.id=null,this.item=null}},created:function(){this.callServiceGetAllRiddles()}},_=(n("lOu8"),n("KHd+")),y=Object(_.a)(m,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("h1",[t._v("חידה ")]),t._v(" "),n("el-row",[n("el-col",{attrs:{span:6,offset:17}},[n("label",{staticClass:"el-form-item__label bold"},[t._v("חידה בעריכה:")]),t._v(" "),n("el-select",{attrs:{placeholder:"בחר חידה"},on:{change:function(e){return t.edit(t.id)}},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}},t._l(t.riddles,function(e,i){return n("el-option",{key:"riddle_"+e.id,attrs:{label:t.riddleLabels(e,i),value:e.id}})}),1)],1)],1),t._v(" "),n("br"),n("br"),t._v(" "),null!=t.item?n("el-form",{ref:"form",staticClass:"form-container",attrs:{model:t.item,rules:t.rules}},[n("el-row",[n("el-col",{attrs:{span:6,offset:17}},[n("el-form-item",{attrs:{label:"כותרת",prop:"title"}},[n("el-input",{model:{value:t.item.title,callback:function(e){t.$set(t.item,"title",e)},expression:"item.title"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:6,offset:17}},[n("el-form-item",{attrs:{label:"כתב חידה",prop:"text"}},[n("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.item.text,callback:function(e){t.$set(t.item,"text",e)},expression:"item.text"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:6,offset:17}},[n("el-form-item",{attrs:{label:"תשובות אפשריות",prop:"answers"}},[n("br"),t._v(" "),t._l(t.item.answers,function(e){return n("el-tag",{key:e.id,attrs:{closable:"","disable-transitions":!1},on:{close:function(n){return t.handleClose(e)}}},[t._v("\n                          "+t._s(e.text)+"\n                      ")])}),t._v(" "),t.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"mini"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm.apply(null,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ הוסף אפשרות")])],2)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:6,offset:17}},[n("el-form-item",{attrs:{label:"הסבר",prop:"explain"}},[n("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.item.explain,callback:function(e){t.$set(t.item,"explain",e)},expression:"item.explain"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:6,offset:17}},[n("el-form-item",{attrs:{label:"רמז",prop:"hint"}},[n("el-input",{model:{value:t.item.hint,callback:function(e){t.$set(t.item,"hint",e)},expression:"item.hint"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:6,offset:17}},[n("el-form-item",{attrs:{label:"סוג מידע",prop:"type"}},[n("el-select",{attrs:{placeholder:"בחר"},on:{change:function(e){return t.updateType(t.item.type)}},model:{value:t.item.type,callback:function(e){t.$set(t.item,"type",e)},expression:"item.type"}},[n("el-option",{key:"typeN",attrs:{label:"ללא",value:"N"}}),t._v(" "),n("el-option",{key:"typeY",attrs:{label:"יוטיוב",value:"Y"}}),t._v(" "),n("el-option",{key:"typeL",attrs:{label:"קישור",value:"L"}}),t._v(" "),n("el-option",{key:"typeV",attrs:{label:"סרטון",value:"V"}})],1)],1)],1)],1),t._v(" "),"L"==t.item.type||"V"==t.item.type?n("el-row",[n("el-col",{attrs:{span:6,offset:17}},[n("el-form-item",{attrs:{label:"קישור",prop:"url"}},[n("el-input",{model:{value:t.item.url,callback:function(e){t.$set(t.item,"url",e)},expression:"item.url"}})],1)],1)],1):t._e(),t._v(" "),"Y"==t.item.type?n("el-row",[n("el-col",{attrs:{span:6,offset:17}},[n("el-form-item",{attrs:{label:"יוטיוב",prop:"youtube"}},[n("el-input",{model:{value:t.item.youtube,callback:function(e){t.$set(t.item,"youtube",e)},expression:"item.youtube"}})],1)],1)],1):t._e(),t._v(" "),n("el-row",[n("el-col",{attrs:{span:6,offset:17,align:"center"}},[n("el-button-group",[n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-success"},on:{click:function(e){return e.preventDefault(),t.save()}}},[t._v("שמור")]),t._v(" "),n("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-error"},on:{click:function(e){return e.preventDefault(),t.cancel()}}},[t._v("ביטול")])],1)],1)],1)],1):t._e(),n("br"),t._v(" "),n("el-button",{on:{click:function(e){return t.callServiceExport()}}},[t._v("ייצא את כל החידות")]),t._v(" "),n("br"),n("br"),n("br"),n("br")],1)},[],!1,null,null,null);y.options.__file="index.vue";e.default=y.exports},tfYw:function(t,e,n){"use strict";e.__esModule=!0;var i=o(n("Yz+Y")),r=o(n("JO7F"));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,n,o){null===e&&(e=Function.prototype);var l=(0,r.default)(e,n);if(void 0===l){var a=(0,i.default)(e);return null===a?void 0:t(a,n,o)}if("value"in l)return l.value;var s=l.get;return void 0!==s?s.call(o):void 0}},v5Dd:function(t,e,n){var i=n("NsO/"),r=n("vwuL").f;n("zn7N")("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},wOee:function(t,e,n){"use strict";var i=n("Yz+Y"),r=n.n(i),o=n("iCc5"),l=n.n(o),a=n("V7oC"),s=n.n(a),u=n("FYw3"),c=n.n(u),p=n("tfYw"),d=n.n(p),f=n("mRg0"),h=n.n(f),v=function(t){function e(t){return l()(this,e),c()(this,(e.__proto__||r()(e)).call(this,t))}return h()(e,t),s()(e,[{key:"get",value:function(t){var n=d()(e.prototype.__proto__||r()(e.prototype),"baseUrl",this)+"riddle/"+t;return d()(e.prototype.__proto__||r()(e.prototype),"customGet",this).call(this,n)}},{key:"update",value:function(t,n){var i=d()(e.prototype.__proto__||r()(e.prototype),"baseUrl",this)+"riddle/"+t;return d()(e.prototype.__proto__||r()(e.prototype),"customPut",this).call(this,i,n)}},{key:"getAll",value:function(){var t=d()(e.prototype.__proto__||r()(e.prototype),"baseUrl",this)+"riddle/all";return d()(e.prototype.__proto__||r()(e.prototype),"customGet",this).call(this,t)}},{key:"export",value:function(){var t=d()(e.prototype.__proto__||r()(e.prototype),"baseUrl",this)+"riddle/export";return d()(e.prototype.__proto__||r()(e.prototype),"customGetDownload",this).call(this,t)}}]),e}(n("6gKL").a);e.a=v}}]);